# C语言指针

### 指针相关概念

1. 指针：

   - 系统为了更好的管理我们的内存，就为内存区的每一个字节都分配一个编号（唯一），这就是地址。
   - 指针的实质就是地址，就是一个个编号
   - CPU 访问内存时需要的是地址，而不是变量名和函数名！变量名和函数名只是地址的一种助记符，当源文件被编译和链接成可执行程序后，它们都会被替换成地址。编译和链接过程的一项重要任务就是找到这些名称所对应的地址

2. ###### 指针变量：

   - 变量在编译的时候系统要为他分配一个地址，如用另一个变量来存放这个地址，那么这个变了就叫指向变量的指针变量。

   - 定义指针变量

     ```
     datatype *name;
     ```

     或者

     ```
     datatype *name = value;
     ```

     `*`表示这是一个指针变量，`datatype`表示该指针变量所只想的数据的类型。例如

     ```
     int *p1;
     ```

     p1是一个指向int类型数据的指针变量，至于 P1 究竟指向哪一份数据，应该又赋予它的值决定，再如：

     ```
     int a = 100；
     int *p_a = &a;
     ```

     在定义指针变量p_a的同时对它进行初始化，并将变量a的地址赋予它，此时p_a就指向了a，值得注意的是，p_a需要的是一个地址，a前面必须得加取址符`&`，否则是不对的。和普通变量一样，指针变量也是可以被多次写入，可以随时改变指针变量的值。

     ```
     //定义普通变量
     float a  = 99.5， b = 10.6；
     char c = '@', d = '#'
     //定义指针变量
     float *p1  = &a;
     char *p2 = &c;
     //修改指针变量的值
     p1 = &b;
     p2 = &d;
     ```

     `*`是一个特殊符号，表明一个变量是指针变量，定义P1,、P2必须带`*`,

     而给p1、p2赋值时，因为已经知道了它是一个指针变量，就没必要多此一举在再带上`*`,后面可以像使用普通变量一样来使用指针变量，也就是说，**定义指针变量时必须带`*`,给指针变量赋值时不能带`*`。**

### 通过指针变量取得数据

指针变量存储了数据的地址，通过指针变量能够获得该地址上的数据，格式为：

```
*pointer;
```

这里的`*`被称为指针运算符，用来去的某个地址上的数据，请看下面的例子：

````
#include  <strdio.h>
int main()
{
     int a = 15;
     int *p=&a;
     printf("%d,%d\n",a, *p);
     return 0;
}
````

### 总结

使用指针是间接获取数据，使用变量名是直接获取数据，前者比后者的代价要高。